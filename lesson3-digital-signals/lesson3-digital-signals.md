# 前言
在本章节当中，我们将会学习到数字信号的由来——采样与量化，以及基本的数字信号。最后我们会详细介绍到WAV文件以及其内部构成。
# 基本概念
定义：随时间离散变化的信号，通过模拟/数字转换器（A/D转换器）将模拟信号转换为数字信号。
# 采样与量化
## 采样
1. 定义解析：采样是将连续时间信号转换为离散时间信号的关键步骤。表达式$$x[n]=x(nT_s)$$表示在每个采样时刻$nT_s$对原始连续信号$x(t)$进行取值，从而得到离散序列$$x[n]$$
   其中，采样周期$T_s$决定了采样的时间间隔，而采样频率$f_s = 1/T_s$则表示单位时间内的采样次数。
2. Nyquist - Shannon采样定理：采样定理指出，只有当采样频率$f_s$大于原始信号最高频率$f_H$的两倍时，才能保证从采样后的离散信号中无失真地重建原始信号。这是因为如果采样频率过低，会导致频谱发生混叠现象，使得原始信号的频谱信息在离散信号中发生混淆，从而无法准确地还原原始信号。例如，对于一个最高频率为$10kHz$的音频信号，根据采样定理，采样频率至少应为$20kHz$。
## 量化
量化是指将采样得到的信号振幅值转化为离散的数值的过程。在实际操作中，由于计算机只能处理离散的数值，所以需要将连续变化的信号幅度进行量化。

常用量化数值范围：
1. 8 - bits量化：这种量化方式可以表示$2^8 = 256$个不同的值。通常有两种表示范围，一种是$0 - 255$，适用于表示无符号的信号幅度，比如图像中像素的亮度值（通常用$0$表示最暗，$255$表示最亮）；另一种是$-128 - 127$，用于表示有符号的信号，比如某些音频信号处理中，负值和正值可以表示信号的不同相位或方向。
2. 16 - bits量化：能表示$2^{16}=65536$个值，范围是$(-32,768 - 32,767)$，这种量化精度更高，能够更精确地表示信号的幅度变化，常用于对音质要求较高的音频处理或需要高精度数据表示的信号处理场景。
# 数字信号表示
数字信号可以表示为离散的数字集合$$x = \{x[n]\},-\infty < n < \infty$$
这意味着数字信号是由一系列离散的点组成的，每个点对应一个特定的数值$x[n]$，其中$n$表示离散的时间索引或样本序号。

这种表示方式清晰地体现了数字信号的离散性。在实际应用中，特别是在使用编程语言处理信号时，我们通常使用数组来存储数字信号。例如在Python中，可以使用列表或NumPy数组来存储和操作数字信号。使用数组的优势在于可以方便地对信号进行索引、计算，如进行信号的加法、乘法、滤波等操作都可以通过对数组元素进行矩阵运算来实现。
# 基本的数字信号
## 单位脉冲函数
定义与性质：单位脉冲函数$\delta(t)$在连续时间信号分析中具有特殊的性质。它在$t\neq0$时取值为$0$，而在整个时间轴上的积分为$$\int_{-\infty}^{\infty}\delta(t)dt = 1$$
在离散时间领域，其离散形式$\delta[n]$同样有着重要作用。对于离散单位脉冲函数$\delta[n]$，当$n = 0$时，$\delta[0]=1$，当$n\neq0$时，$\delta[n]=0$。在数字信号处理中，单位脉冲函数常用于描述系统的冲激响应，通过输入单位脉冲函数，可以观察系统的输出，从而分析系统的特性，如线性、时不变性等。
## 单位阶跃
定义与性质：单位阶跃函数$u[n]$在信号处理中也有着广泛的应用。其定义为当$n\geq0$时，$u[n]=1$；当$n<0$时，$u[n]=0$。单位阶跃函数可以用于表示信号的起始时刻或系统的输入信号类型。
# 数字音频文件——WAV文件
## RIFF区块
RIFF（Resource Interchange File Format）是WAV文件的基本结构之一。RIFF是一种文件容器，在RIFF的区块中，通常包含了文件类型的标识符，对于WAV文件，这个标识符是“WAVE”。除此之外，它还包含了整个文件的大小信息，这个大小指的是从RIFF区块开始到文件末尾的总字节数。

作用：RIFF区块作为文件的开头部分，为整个文件的解析提供了基础框架。文件类型标识符让播放或处理软件能够识别这是一个WAV音频文件，而文件大小信息则有助于软件在读取和处理文件时正确地分配内存和控制读取流程，确保完整地读取和处理文件内容，不会出现读取超出文件范围或读取不足的情况。
## fmt区块
fmt区块主要包含了音频数据的格式信息。其中包括音频的编码格式（如PCM - Pulse Code Modulation等），这决定了音频数据是如何被量化和编码的。除此之外，它还包含了声道数信息，例如单声道或立体声。不同的声道数会影响音频的播放效果和数据存储方式。此外，fmt区块还有采样频率信息，这与前面提到的采样概念相关，采样频率决定了音频的数字化质量，以及每个样本的量化位数，如8 - bits或16 - bits，这决定了音频数据的精度。

作用：fmt区块的信息对于正确解码和播放音频文件非常重要。播放软件根据音频编码格式来选择合适的解码算法，将存储的数字音频数据还原为模拟音频信号。声道数信息指导软件如何将音频数据分配到不同的声道进行播放，以实现立体声音效。采样频率和量化位数则帮助软件准确地还原音频信号的原始频率和幅度信息。
## data区块
data区块是WAV文件中实际存储音频数据的部分。这些音频数据是经过采样和量化后的数字信号，按照fmt区块中指定的格式进行存储。对于PCM编码的音频，数据就是一系列的采样值，根据声道数和量化位数等参数进行排列。例如，在立体声、16 - bits量化的情况下，数据会交替存储左右声道的采样值。

作用：data区块承载了音频文件的核心内容——音频数据。播放软件在读取和解析了RIFF和fmt区块后，会根据其中的信息从data区块中正确地提取音频数据，并进行解码和播放操作。在音频编辑软件中，对音频数据的修改也是直接针对data区块中的数据进行的，比如调整音量、裁剪音频片段等操作都涉及对data区块中数据的处理。